const gallerySet = [
  {
    index: 'wwf_lpatc',
    title: ['WWF Living Planet @ Campus', 'WWF Living Planet @ Campus Campaign'],
    description: ['The Living Planet @ Campus campaign’s central motif weaves together wildlife related to WWF-Canada’s key initiatives with images of students and volunteers participating in WWF events, all within WWF’s renowned panda emblem. The image grid adapts easily to a variety of media and format. Created for WWF-Canada.'],
    images: ['pf_wwflps-thumbnail', 'pf_wwflps-monitor', 'pf_wwflps-tab1'],
    tags: ['Design', 'Illustration', 'Print']
  },
  {
    index: 'tabia_site',
    title: ['TABIA', 'Toronto Association of&nbsp;Business Improvement&nbsp;Areas (TABIA)'],
    links: ['https://www.toronto-bia.com'],
    description: ['A number of useful and dynamic features are packed into this WordPress website: an events calendar, member content, multiple news channels, and a visual map system to depict BIA boundaries across the GTA. For site admins, rich content forms were created to make adding and managing a variety of content as simple as possible, addressing a key problem with their previous website. Designed by and developed for Us&nbsp;Communications.'],
    images: ['pf_tabia-thumbnail', 'pf_tabia-monitor', 'pf_tabia-tab1', 'pf_tabia-tab2', 'pf_tabia-tab3-blend'],
    tags: ['Custom Features', 'WordPress', 'Responsive']
  },
  {
    index: 'lgcot_site',
    title: ['Ladies’ Golf Club of Toronto', 'Ladies’ Golf Club of Toronto'],
    links: ['http://www.ladiesgolfcluboftoronto.com'],
    description: ['This WordPress website tells its story across three long-form pages that feel like a sunny day on the links. Parallax scrolling helps showcase the beautiful course photography, and custom visual layout modules were developed to help edit and manage the up to 70 sections per page. Designed by and developed for TouchBase.'],
    images: ['pf_lgcot-thumbnail', 'pf_lgcot-monitor', 'pf_lgcot-tab1', 'pf_lgcot-tab2', 'pf_lgcot-tab3-blend'],
    tags: ['Custom Features', 'WordPress', 'Responsive']
  },
  {
    index: 'frenchstreet',
    title: ['French Street', 'French Street Website'],
    description: ['French Street® is a unique database of French resources designed to support teachers, students and parents across the province of Ontario. The WordPress site features extensive search capabilities that are easy-to-use on any device, and makes extensive use of custom icon fonts for flexible placement and crisp display across layouts and devices. All content is bilingual and can be switched on-the-fly. Designed by and developed for Us Communications.'],
    images: ['pf_frenchstreet-thumbnail', 'pf_frenchstreet-monitor', 'pf_frenchstreet-tab1', 'pf_frenchstreet-tab2', 'pf_frenchstreet-tab3'],
    links: ['http://frenchstreet.ca'],
    tags: ['Front & back-end development', 'Responsive Design', 'Bilingual']
  },
  {
    index: 'diamondawards',
    title: ['CAA Diamond Awards', 'CAA Diamond Awards'],
    description: ['The prestigious print and digital event campaign included an event teaser, HTML email with landing page, event program, event A/V materials and even a waterfall projection for shimmering spotlight beams. Realistic 3D illustrations enabled full compositional flexibility with classic Hollywood motifs: searchlights, red velvet rope lines and of course, diamonds.'],
    images: ['pf_diamondawards-thumbnail', 'pf_diamondawards-monitor', 'pf_diamondawards-tab1', 'pf_diamondawards-tab2-blend', 'pf_diamondawards-tab3-blend'],
    tags: ['Concept', 'Design', 'Production', 'Illustration', 'HTML Email']
  },
  {
    index: 'inthezone',
    title: ['In The Zone'],
    description: ['In The Zone is a WWF-Canada/Carolinian Canada initiative to enourage planting of native species in the <a href="https://inthezonegardens.ca/#in-the-zone" target="swd">Carolinian Zone</a>, home to one third of Canada’s at-risk plants. The vibrant aesthetic across different guides and collateral creates an impactful, recognizable campaign that informs gardeners and supports retail partners across the Zone.'],
    images: ['pf_itz-thumbnail', 'pf_itz-monitor', 'pf_itz-tab1', 'pf_itz-tab2-blend'],
    subdirectory: 'itz',
    tags: ['Print', 'Design', 'Collateral', 'Signage']
  },
  {
    index: 'stq',
    title: ['Shop The Queensway BIA'],
    description: ['This website was designed with a fresh and bright look to represent the 3 main themes of Shop The Queenway Business Improvement Area’s motto: <em>Shop</em>, <em>Dine</em> and <em>Live</em>. The Queensway neighbourhood establishments are easy to locate with the site’s interactive neighbourhood directory and mapping.'],
    images: ['pf_stq-thumbnail', 'pf_stq-monitor', 'pf_stq-tab1', 'pf_stq-tab2'],
    subdirectory: 'stq',
    links: ['https://shopthequeensway.com/'],
    tags: ['Design', 'Development', 'Directory']
  },
  {
    index: '1in8microsite',
    title: ['1 in 8 Have It', '1 in 8 Have It Microsite'],
    description: ['Regulatory constraints for direct-to-consumer condition awareness sites can blunt verbal or visual impact, so extra attention was paid to an original and slick JavaScript interactive survey, leading to a results page including a fully branded HTML email, and print-optimized CSS output. Campaign microsite developed for and designed by Us Communications.'],
    images: ['pf_1in8-thumbnail', 'pf_1in8-monitor', 'pf_1in8-tab1', 'pf_1in8-tab2-blend', 'pf_1in8-tab3-blend'],
    tags: ['Development', 'HTML Email', 'Printable CSS', 'WordPress']
  },
  {
    index: 'macweld',
    title: ['Mac-Weld'],
    description: ['B2B WordPress website for an instrument component company. Site includes a WooCommerce store with a custom, automated product grid builder for multiple parameters and unique SKUs, a client-accessible personalized database collection for MTR files, and more. Developed for and designed by Us Communications.'],
    images: ['pf_macweld-thumbnail', 'pf_macweld-monitor', 'pf_macweld-tab1', 'pf_macweld-tab2', 'pf_macweld-tab3-blend'],
    links: ['http://mac-weld.com'],
    tags: ['Development', 'Custom Features', 'WordPress', 'Responsive']
  },
  {
    index: 'measure_of_everything',
    title: ['A Measure of Everything', 'A Measure of Everything'],
    description: ['To illustrate the book’s comprehensive treatment on the history and myriad types of measurement, a nautilus shell was selected for the central motif. The nautilus suggests that the natural world contains many complex forms and patterns that, upon analysis, can be accurately described with simpler, predictable units. Each spiral compartment features imagery of various categories and subjects of measurement. Created for Firefly Books.'],
    images: ['pf_amoe-thumbnail', 'pf_amoe-monitor', 'pf_amoe-tab1', 'pf_amoe-tab2'],
    tags: ['Book Cover', 'Design', 'Illustration']
  }
]
const _relUrl = (filename, subdirectory) => {
  subdirectory = subdirectory ? `${subdirectory.trim('/')}/` : ''
  const defaultImageFolder = `./images/${subdirectory}`
  if (filename.startsWith('http://') || filename.startsWith('https://') || filename.startsWith('localhost`')) {
    return filename
  } else {
    return defaultImageFolder + filename
  }
  window.galleryTransitionTime = 750
  window.galleryTransitionTime2 = 1000
  const hasWebP = supportFormatWebp()

  const isChrome = /Chrome/.test(navigator.userAgent) && /Google Inc/.test(navigator.vendor)

  let prefExt = hasWebP && isChrome ? '.webp' : '.jpg'
}
const srcFileName = (urlbase, width, fileext) => {
  return `${urlbase.replace(/([\w\-. ]+?)$/, `${width}/$1`)}-${width}w.${fileext.replace('.', '')}`
}
function supportFormatWebp() {
  var elem = document.createElement('canvas')

  if (!!(elem.getContext && elem.getContext('2d'))) {
    return elem.toDataURL('image/webp').indexOf('data:image/webp') == 0 // was able or not to get WebP representation
  } else {
    return false // canvas not supported on very old browsers (IE 8)
  }
}
function ifExistsAddAttrVal(obj, attr) {
  if (typeof obj != 'undefined') {
    return ' ' + attr + '="' + _relUrl(obj, '') + '"'
  }
  return ''
}
function ifExistsAddLink(link) {
  if (typeof link != 'undefined') {
    return '<div class="gallery__link"><a href="' + link + '" target="swd">' + link[0].toString().replace(/(^\w+:|^)\/\//, '') + '</a></div>'
  }
  return ''
}
function ifExistsAddMobileImage(obj) {
  if (typeof obj != 'undefined') {
    return ' ' + attr + '="' + _relUrl(obj) + '"'
  }
  return ''
}

function srcSingle(urlbase, width, fileext) {
  return `${srcFileName(urlbase, width, fileext)} ${width}w`
}
function srcSingleNoExt(urlbase, width, fileext) {
  return `${srcFileName(urlbase.replace(/\.[\w\- ]+?$/, ''), width, fileext)} ${width}w`
}

function addBodyClassIfMacSafari() {
  const nu = navigator.userAgent
  const isMacSafari = nu.indexOf('Macintosh') !== -1 && nu.indexOf('Safari') !== -1 && nu.indexOf('Chrome') == -1 && navigator.userAgent.indexOf('Firefox') == -1
  document.body.classList.add('mac-safari')
  if (isMacSafari) document.body.classList.add('mac-safari')
}
function addBodyClassIfTouchCapable() {
  if (isTouchDevice()) document.body.classList.add('touch-capable')
}
function isTouchDevice() {
  return !!('ontouchstart' in window) || !!('msmaxtouchpoints' in window.navigator)
}

function ifExistsAddImgTag(obj, subdirectory) {
  if (typeof obj != 'undefined') {
    const imgUrl = _relUrl(obj, subdirectory)
    var noShadow = obj.indexOf('-blend') !== -1 ? '' : ' dropshadow'
    return `
        <div class="mobile--inline-image${noShadow}">
        <picture>
        <source srcset="${srcSingle(imgUrl, 360, 'webp')}, ${srcSingle(imgUrl, 1024, 'webp')}" type="image/webp" sizes="(max-width: 767px) 480px, 800px">
        <source srcset="${srcSingle(imgUrl, 360, 'jpg')}, ${srcSingle(imgUrl, 1024, 'jpg')}" type="image/jpeg" sizes="(max-width: 767px) 480px, 800px">
        <img src="${imgUrl}.jpg" alt="" loading="lazy" />
        </picture>
        </div>`
  }
  return ''
}
export { gallerySet, _relUrl, srcFileName, supportFormatWebp, ifExistsAddAttrVal, ifExistsAddLink, ifExistsAddMobileImage, ifExistsAddImgTag }
